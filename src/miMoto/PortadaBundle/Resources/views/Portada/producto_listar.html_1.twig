{% extends '::frontend.html.twig' %}

{% block id 'productos' %}
{% block title %}Ver motos{% endblock %}

{% block article %}
<a href="{{ path('portada_producto_inicio') }}">Volver al inicio</a> | 
<h1>{{ block('title') }}</h1>



<div class="row">    
    {% for producto in productos %}                            
        
    <div class="col-md-3">
            
                    <div class="containerCarrusel">    
    
                        {% set cantidadFotos = producto.productsImagesCollection|length %}
                        {% set contadorFotos = 1 %}
                        <!-- Carousel
                        ================================================== -->
                        <div id="myCarousel_{{ producto.productsId }}" class="carousel slide" data-ride="carousel" data-interval="false">
                          <!-- Indicators -->
                          <ol class="carousel-indicators">
                            <li data-target="#myCarousel_{{ producto.productsId }}" data-slide-to="0" class="active"></li>
                                {% for contadorFotos in 1..cantidadFotos %}
                                    <li data-target="#myCarousel_{{ producto.productsId }}" data-slide-to="{{ contadorFotos }}"></li>        
                                    {% set contadorFotos = 1 + contadorFotos %}
                                {% endfor %}
                          </ol>
                          {% set contadorFotos = 1 %}
                          <div class="carousel-inner">

                     {% for productsImages in producto.productsImagesCollection %}          
                              {% if contadorFotos == 1  %}
                                <div class="item active">
                              {% else %}
                                <div class="item">
                              {% endif %}
                            
                              <!--<img data-src="holder.js/275x125/auto/#666:#6a6a6a/text:Second slide" alt="Second slide">-->
                              <div class="containerCarrusel">
                                <div class="carousel-caption">
                                    
                                    <!--INICIO BLOQUE ANTERIOR-->                                    
                                    <div class="symfony-blocks-help">
                                        <a href="{{ path('portada_producto_ver', { 'id': producto.productsId }) }}">
                                            {#% if contadorFotos == 1  %#}
                                              <img width="230" height="230"  src="{{app.request.basepath}}/{{ productsImages.getWebPath }}">
                                            {#% endif %#}
                                        </a>
                                    </div>                                        
                                        <a href="{{ path('portada_producto_ver', { 'id': producto.productsId }) }}"><span> {{ producto.manufacturersId }} </span>  <span>{{ producto.productsModel }}</span> - <span> {{ producto.cilindrajeId }} </span></a><br/>
                                        año <span> {{ producto.anio }} </span> | <span> {{ producto.productsQuantity }} km </span>
                                        <br/>
                                        <span> $ {{ producto.productsPrice }} </span>
                                        
                                    <!--Fin  BLOQUE ANTERIOR-->                                                                      
                                  
                                </div>                                    
                              </div>
                            </div>
                        {% set contadorFotos = 1 + contadorFotos %}
                       {% endfor %}                  

                            
                            <div class="item">
                              <!--<img data-src="holder.js/10x10/auto/#777:#7a7a7a/text:First slide" alt="First slide">-->
                              <div class="containerCarrusel">
                                <div class="carousel-caption">              
                                    
                                    <!--INICIO BLOQUE ANTERIOR-->
                                    <div style="block">
                                        <div class="symfony-blocks-help">
                                            <a href="{{ path('portada_producto_ver', { 'id': producto.productsId }) }}">
                                                <img width="230" height="230" src="{{app.request.basepath}}/{{ producto.getWebPath }}"><br/>
                                            </a>
                                        </div>  
                                            <a href="{{ path('portada_producto_ver', { 'id': producto.productsId }) }}"><span> {{ producto.manufacturersId }} </span>  <span>{{ producto.productsModel }}</span> - <span> {{ producto.cilindrajeId }} </span></a><br/>
                                            año <span> {{ producto.anio }} </span> | <span> {{ producto.productsQuantity }} km </span>                                  
                                            <br/>
                                            <span> $ {{ producto.productsPrice }} </span>
                                            
                                    </div>
                                    <!--Fin  BLOQUE ANTERIOR-->
                                    
                                    <!--<img width="160" height="160"  src="{ {app.request.basepath}}/{ { producto.getWebPath }}">-->
                                </div>                                      
                              </div>
                            </div>                                                          

                          </div>
                          <a class="left carousel-control" href="#myCarousel_{{ producto.productsId }}" data-slide="prev"><span class="glyphicon glyphicon-chevron-left"></span></a>
                          <a class="right carousel-control" href="#myCarousel_{{ producto.productsId }}" data-slide="next"><span class="glyphicon glyphicon-chevron-right"></span></a>
                        </div><!-- /.carousel -->          
                </div>
            
            </div>        
    
    {% endfor %}            



{#
{% set cantidadTdsDibujados = 0 %}
<table>

    {% for producto in productos %}        
    {% set cantidadTdsDibujados = cantidadTdsDibujados + 1 %}
        {% if(cantidadTdsDibujados == 1) %}        
            <tr>                
        {% endif %}                
        
    <td>
            
                    <div class="containerCarrusel">    
    
                        {% set cantidadFotos = producto.productsImagesCollection|length %}
                        {% set contadorFotos = 1 %}
                        <!-- Carousel
                        ================================================== -->
                        <div id="myCarousel_{{ producto.productsId }}" class="carousel slide" data-ride="carousel">
                          <!-- Indicators -->
                          <ol class="carousel-indicators">
                            <li data-target="#myCarousel_{{ producto.productsId }}" data-slide-to="0" class="active"></li>
                                {% for contadorFotos in 1..cantidadFotos %}
                                    <li data-target="#myCarousel_{{ producto.productsId }}" data-slide-to="{{ contadorFotos }}"></li>        
                                    {% set contadorFotos = 1 + contadorFotos %}
                                {% endfor %}
                          </ol>
                          {% set contadorFotos = 1 %}
                          <div class="carousel-inner">

                     {% for productsImages in producto.productsImagesCollection %}          
                            <div class="item">
                              <!--<img data-src="holder.js/275x125/auto/#666:#6a6a6a/text:Second slide" alt="Second slide">-->
                              <div class="containerCarrusel">
                                <div class="carousel-caption">
                                    
                                    <!--INICIO BLOQUE ANTERIOR-->                                    
                                    <div class="symfony-blocks-help">
                                        <a href="{{ path('portada_producto_ver', { 'id': producto.productsId }) }}">
                                             <img width="230" height="230"  src="{{app.request.basepath}}/{{ productsImages.getWebPath }}">
                                        </a>
                                    </div>                                        
                                        <a href="{{ path('portada_producto_ver', { 'id': producto.productsId }) }}"><span> {{ producto.manufacturersId }} </span>  <span>{{ producto.productsModel }}</span> - <span> {{ producto.cilindrajeId }} </span></a><br/>
                                        año <span> {{ producto.anio }} </span> | <span> {{ producto.productsQuantity }} km </span>
                                        <br/>
                                        <span> $ {{ producto.productsPrice }} </span>
                                        
                                    <!--Fin  BLOQUE ANTERIOR-->                                                                      
                                  
                                </div>                                    
                              </div>
                            </div>
                        {% set contadorFotos = 1 + contadorFotos %}
                       {% endfor %}                  

                            <div class="item active">
                              <!--<img data-src="holder.js/10x10/auto/#777:#7a7a7a/text:First slide" alt="First slide">-->
                              <div class="containerCarrusel">
                                <div class="carousel-caption">              
                                    
                                    <!--INICIO BLOQUE ANTERIOR-->
                                    <div style="block">
                                        <div class="symfony-blocks-help">
                                            <a href="{{ path('portada_producto_ver', { 'id': producto.productsId }) }}">
                                                <img width="230" height="230" src="{{app.request.basepath}}/{{ producto.getWebPath }}"><br/>
                                            </a>
                                        </div>  
                                            <a href="{{ path('portada_producto_ver', { 'id': producto.productsId }) }}"><span> {{ producto.manufacturersId }} </span>  <span>{{ producto.productsModel }}</span> - <span> {{ producto.cilindrajeId }} </span></a><br/>
                                            año <span> {{ producto.anio }} </span> | <span> {{ producto.productsQuantity }} km </span>                                  
                                            <br/>
                                            <span> $ {{ producto.productsPrice }} </span>
                                            
                                    </div>
                                    <!--Fin  BLOQUE ANTERIOR-->
                                    
                                    <!--<img width="160" height="160"  src="{ {app.request.basepath}}/{ { producto.getWebPath }}">-->
                                </div>                                      
                              </div>
                            </div>                                                          

                          </div>
                          <a class="left carousel-control" href="#myCarousel_{{ producto.productsId }}" data-slide="prev"><span class="glyphicon glyphicon-chevron-left"></span></a>
                          <a class="right carousel-control" href="#myCarousel_{{ producto.productsId }}" data-slide="next"><span class="glyphicon glyphicon-chevron-right"></span></a>
                        </div><!-- /.carousel -->          
                </div>                                                                        
            
         
        </td>
        
        {% if(cantidadTdsDibujados == 4) %}
            </tr>        
            {% set cantidadTdsDibujados = 0 %}
        {% endif %}
    
    {% endfor %}
            
    {% if(cantidadTdsDibujados != 0) %}
    </tr>
    {% endif %}
</table>#}

<div class="containerCarrusel">    
    
    {#
    <!-- Carousel
    ================================================== -->
    <div id="myCarousel" class="carousel slide" data-ride="carousel">
      <!-- Indicators -->
      <ol class="carousel-indicators">
        <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
        <li data-target="#myCarousel" data-slide-to="1"></li>
        <li data-target="#myCarousel" data-slide-to="2"></li>
      </ol>
      
      <div class="carousel-inner">
      
        <div class="item active">
          { #<img data-src="holder.js/10x10/auto/#777:#7a7a7a/text:First slide" alt="First slide"># }
          <div class="container">
            <div class="carousel-caption">              
              <p>Note: If you're viewing this page via a <code>file://</code> URL, the "next" and "previous" Glyphicon buttons on the left and right might not load/display properly due to web browser security rules.</p>              
            </div>
          </div>
        </div>
          
        <div class="item">
          { #<img data-src="holder.js/275x125/auto/#666:#6a6a6a/text:Second slide" alt="Second slide"># }
          <div class="container">
            <div class="carousel-caption">          
              <p>Cras justo odio, dapibus ac facilisis in, egestas eget quam. Donec id elit non mi porta gravida at eget metus. Nullam id dolor id nibh ultricies vehicula ut id elit.</p>              
            </div>
          </div>
        </div>
          
        <div class="item">
          { #<img data-src="holder.js/275x125/auto/#555:#5a5a5a/text:Third slide" alt="Third slide"># }
          <div class="container">
            <div class="carousel-caption">              
              <p>Cras justo odio, dapibus ac facilisis in, egestas eget quam. Donec id elit non mi porta gravida at eget metus. Nullam id dolor id nibh ultricies vehicula ut id elit.</p>              
            </div>
          </div>
        </div>
          
      </div>
      <a class="left carousel-control" href="#myCarousel" data-slide="prev"><span class="glyphicon glyphicon-chevron-left"></span></a>
      <a class="right carousel-control" href="#myCarousel" data-slide="next"><span class="glyphicon glyphicon-chevron-right"></span></a>
    </div><!-- /.carousel -->#}
      

    <script type="text/javascript"  src="{{ asset('bundles/frontend/jquery/jquery.min.js') }}" ></script>    
    <script type="text/javascript"  src="{{ asset('bundles/frontend/bootstrap-3.1.1/js/bootstrap.min.js') }}" ></script>    
    </div>


{% endblock %}

{% block aside %}

{% endblock %}

